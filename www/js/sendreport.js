var closeReportDialogButton,reportDialog,reportForm,showReportDialogButton;showReportDialogButton=document.querySelector("#showReportDialog"),closeReportDialogButton=document.querySelector("#closeDialog"),reportDialog=document.querySelector("#reportDialog"),reportForm=document.querySelector("#reportForm"),showReportDialogButton.addEventListener("click",function(e){return reportDialog.showModal()}),closeReportDialogButton.addEventListener("click",function(e){return e.preventDefault(),reportForm.reset(),reportDialog.close()}),reportForm.addEventListener("submit",function(e){var t,o,r,a,n,i,l,u,s,c,p,m,d,g,v,D;return e.preventDefault(),progressMessage.init(),u=require("nodemailer"),n="reportataxi@gmail.com",s="reportataxi99",v=u.createTransport("smtps://"+n+":"+s+"@smtp.gmail.com"),r=document.querySelector('input[name="date"]'),c=document.querySelector('input[name="plateno"]'),g=document.querySelector('input[name="taxiname"]'),i=document.querySelector('input[name="location"]'),t=document.querySelector('textarea[name="comment"]'),D=document.querySelector('input[name="violation"]:checked'),d=document.querySelector('input[name="reporterName"]'),m=document.querySelector('input[name="reporterEmail"]'),o=document.querySelector('input[name="contactno"]'),p=document.querySelector('input[name="reporterAddress"]'),a="To The Office of Land Transportation Franchising and Regulatory Board,",a+="\n\n ",a+="The Report-a-Taxi Application would like to send a report regarding with a misbehaved or an abusive taxi driver. Please see the details below:\n\n",a+="Reporter's Name: "+d.value+"\n",a+="Reporter's Contact Number: "+o.value+"\n",a+="Reporter's Address: "+p.value+"\n",a+="Reporter's Email Address: "+m.value+"\n",a+="\n\nConcern: \n",a+="Date of Incident: "+r.value+"\n",a+="Plate Number: "+c.value+"\n",a+="Taxi Name / Driver's Name: "+g.value+"\n",a+="The incident happened at: "+i.value+"\n",a+="Driver's Violation: "+D.value+"\n",a+="Other Details: "+t.value+"\n",l={from:"Report A Taxi <"+n+">",to:"LTFRB <complaint.ltfrb.gov.ph@gmail.com>",cc:d.value+" <"+m.value+">",subject:"Issue Regarding With A Taxi / Taxi Driver",text:a},v.sendMail(l,function(e,o){return e?(progressMessage.putMessage("An error occured on sending your report. Please check your Internet connection or try again later."),void setTimeout(progressMessage.closeModal,2500)):(progressMessage.putMessage("Report Sent!"),setTimeout(progressMessage.closeModal,2500),gRecords.insert({date:r.value,plateno:c.value,taxiname:g.value,location:i.value,comment:t.value,violation:D.value}),reportForm.reset(),reportDialog.close(),void getPosts.init())})});